{"version":3,"sources":["logo.png","GoldenLayout/goldenLayoutComponent.js","GoldenLayout/AgentsPanel.js","GoldenLayout/AgentsMenuPanel.js","background.jpg","GoldenLayout/goldenLayout-dependencies.js","App.js","globals.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","GoldenLayoutComponent","_React$Component","_getPrototypeOf2","_this","Object","_home_kali_Desktop_shad0w_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","_len","arguments","length","args","Array","_key","_home_kali_Desktop_shad0w_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_home_kali_Desktop_shad0w_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","apply","concat","state","containerRef","React","createRef","goldenLayoutInstance","undefined","_home_kali_Desktop_shad0w_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__","_home_kali_Desktop_shad0w_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__","key","value","panels","from","renderPanels","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","assign","ref","props","htmlAttrs","map","panel","index","ReactDOM","createPortal","_getReactComponent","_container","getElement","reactComponentHandler","setState","newRenderPanels","Set","add","delete","GoldenLayout","config","$","global","myMainLayout","registerComponents","Function","reactContainer","init","myLayout","window","addEventListener","event","updateSize","height","Component","ReactComponentHandlerPatched","layoutManager","componentRender","off","_render","_destroy","defaultProps","glEventHub","eventHub","glContainer","extend","_config","_reactClass","utils","ReactComponentHandler","fetch","require","AgentsPanel","returnBeaconData","bind","_home_kali_Desktop_shad0w_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__","isLoaded","focused","agents","dragSources","activeIndex","allIndexes","_this3","_this$state","FA","react__WEBPACK_IMPORTED_MODULE_6___default","className","name","i","localStorage","item","includes","removeItem","agentInfo","keys","_this2","agent","uuid","myClick","selectRow","newItemConfig","title","type","component","agentuuid","selectedItem","root","contentItems","addChild","react_contextmenu__WEBPACK_IMPORTED_MODULE_7__","id","renderTag","attributes","onContextMenu","e","selectRowRight","onClick","onDoubleClick","deviceIsMobile","test","navigator","userAgent","substr","that","each","agentUUID","find","eq","text","createDragSource","push","forEach","indexOf","splice","agentsMenus","active","tabIndex","onKeyDown","selectMany","node","document","getElementById","focus","_this$state2","keyCode","vals","highest","Math","max","lowest","min","parseInt","target","contains","data","getCookie","method","credentials","headers","Cookie","json","cookie","location","reload","_unused","_unused2","allAgentData","_this4","getBeacons","handleClick","setInterval","x","getBeaconData","_this5","removeEventListener","AgentsMenuPanel","time","scrollToBottom","messagesEnd","current","scrollIntoView","behavior","results","history","historyval","historylatest","scroll","displayDrop","messageInput","bg","currentBeaconData","beaconData","onBgClick","onBgClickDouble","style","display","whiteSpace","maxLength","onChange","handleChange","keyPress","result","latest_result","getItem","bottomScroll","setItem","_this$state3","bytes","dedup","isInViewport","preventDefault","button","_this$state4","HAXLOL","_this$state5","print_result_newline","split","sendAgentData","inject","_this$state6","slice","lastIndex","lastIndexOf","str","substring","encodedString","Buffer","toString","Accept","Content-Type","body","JSON","stringify","beacon_id","cmd","then","response","console","log","catch","err","print_result","setSelectionRange","offset","top","getBoundingClientRect","innerHeight","_this6","forceUpdate","agentResults","join","jquery__WEBPACK_IMPORTED_MODULE_0__","jquery__WEBPACK_IMPORTED_MODULE_0___default","n","jQuery","jquery","App","timer","nickValue","hostValue","tokenValue","commState","setCookie","newLogin","nick","token","tmp","parse","username","password","alert","now","Date","expireTime","getTime","setTime","toUTCString","eraseCookie","connOption","strUser","tagName","menuVisible","restartTimer","clearTimeout","setTimeout","toggleSidebar","connections","random","backgroundImage","background","color","fontSize","packageJson","version","src","logo","width","alt","defaultValue","change","disabled","handleChangeHost","placeholder","handleChangeNick","handleChangeToken","setAllCookies","clearAllConnections","clearConnection","showSidebar","onMouseEnter","stopTimer","onMouseLeave","eraseAllCookies","position","_GoldenLayout_goldenLayoutComponent__WEBPACK_IMPORTED_MODULE_6__","settings","selectionEnabled","content","isClosable","activeItemIndex","registerComponent","Boolean","hostname","match","render","react_default","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.6fa8ab4a.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.e7a463a5.png\";","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./goldenLayout-dependencies\";\nimport GoldenLayout from \"golden-layout\";\nimport $ from \"jquery\";\n\nexport class GoldenLayoutComponent extends React.Component {\n  state = {};\n  containerRef = React.createRef();\n\n  render() {\n    let panels = Array.from(this.state.renderPanels || []);\n    return (\n      <div ref={this.containerRef} {...this.props.htmlAttrs}>\n        {panels.map((panel, index) => {\n          return ReactDOM.createPortal(\n            panel._getReactComponent(),\n            panel._container.getElement()[0]\n          );\n        })}\n      </div>\n    );\n  }\n\n  componentRender(reactComponentHandler) {\n    this.setState(state => {\n      let newRenderPanels = new Set(state.renderPanels);\n      newRenderPanels.add(reactComponentHandler);\n      return { renderPanels: newRenderPanels };\n    });\n  }\n  componentDestroy(reactComponentHandler) {\n    this.setState(state => {\n      let newRenderPanels = new Set(state.renderPanels);\n      newRenderPanels.delete(reactComponentHandler);\n      return { renderPanels: newRenderPanels };\n    });\n  }\n\n  goldenLayoutInstance = undefined;\n\n  componentDidMount() {\n    this.goldenLayoutInstance = new GoldenLayout(\n      this.props.config || {},\n      $('#layoutContainer')\n    );\n    //The below globalizes the layout for additional use.\n    global.myMainLayout = this.goldenLayoutInstance;\n    if (this.props.registerComponents instanceof Function)\n      this.props.registerComponents(this.goldenLayoutInstance);\n    this.goldenLayoutInstance.reactContainer = this;\n    this.goldenLayoutInstance.init();\n\n    /*var deviceIsMobile = false; //At the beginning we set this flag as false. If we can detect the device is a mobile device in the next line, then we set it as true.\n    if(/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent) //eslint-disable-line\n        || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(navigator.userAgent.substr(0,4))) { //eslint-disable-line\n      deviceIsMobile = true;\n    }*/\n\n    var myLayout = this.goldenLayoutInstance;\n    window.addEventListener('resize', function(event){ \n      //myLayout.updateSize($(window).width(), $(window).height());\n      myLayout.updateSize('100%', $(window).height());\n    });\n    /*var addMenuItem = function( title, text, component ) {\n      var element = $( '<li>' + text + '</li>' );\n      $( '#menuContainer' ).append( element );\n  \n      var newItemConfig = {\n          title: title,\n          type: 'react-component',\n          component: component,\n          props: { },\n      };\n    \n      if(!deviceIsMobile){\n        myLayout.createDragSource( element, newItemConfig );\n      }\n\n      element.click(function(){\n        if( myLayout.selectedItem === null ) {\n            //alert( 'No item selected. Please click the black header bar to select which item you want to add new items to or drag to create a new window.' );\n            myLayout.root.contentItems[ 0 ].addChild( newItemConfig );\n        } else {\n            myLayout.selectedItem.addChild( newItemConfig );\n        }\n      });\n    };\n    addMenuItem( 'Agents Graph', 'Agents Graph', 'agents-graph-component');\n    addMenuItem( 'HTTP Listener', 'HTTP Listener', 'http-listener-component');\n    addMenuItem( 'SMB Listener', 'SMB Listener', 'smb-listener-component');\n    if(!deviceIsMobile){\n      myLayout.createDragSource( $('#helpmenu'), {title:'Agent Help',type:'react-component',component:'help-component'} );\n      myLayout.createDragSource( $('#helpmenuside'), {title:'Agent Help',type:'react-component',component:'help-component'} );\n      myLayout.createDragSource( $('#graphmenu'), {title:'Agents Graph',type:'react-component',component:'agents-graph-component',props: { connPipe: this.props.connPipe, getCommState: this.props.getCommState }} );\n      myLayout.createDragSource( $('#httpmenu'), {title:'HTTP Listener',type:'react-component',component:'http-listener-component',props: { connPipe: this.props.connPipe, getCommState: this.props.getCommState }} );\n      myLayout.createDragSource( $('#smbmenu'), {title:'SMB Listener',type:'react-component',component:'smb-listener-component',props: { connPipe: this.props.connPipe, getCommState: this.props.getCommState }} );\n    }*/\n  }\n}\n\n\n//Patching internal GoldenLayout.__lm.utils.ReactComponentHandler:\n\nconst ReactComponentHandler = GoldenLayout[\"__lm\"].utils.ReactComponentHandler;\n\nclass ReactComponentHandlerPatched extends ReactComponentHandler {\n  _render() {\n    var reactContainer = this._container.layoutManager.reactContainer; //Instance of GoldenLayoutComponent class\n    if (reactContainer && reactContainer.componentRender)\n      reactContainer.componentRender(this);\n  }\n  _destroy() {\n    //ReactDOM.unmountComponentAtNode( this._container.getElement()[ 0 ] );\n    this._container.off(\"open\", this._render, this);\n    this._container.off(\"destroy\", this._destroy, this);\n  }\n\n  _getReactComponent() {\n    //the following method is absolute copy of the original, provided to prevent depenency on window.React\n    var defaultProps = {\n      glEventHub: this._container.layoutManager.eventHub,\n      glContainer: this._container\n    };\n    var props = $.extend(defaultProps, this._container._config.props);\n    return React.createElement(this._reactClass, props);\n  }\n}\n\nGoldenLayout[\"__lm\"].utils.ReactComponentHandler = ReactComponentHandlerPatched;\n","import React from \"react\";\nimport { ContextMenu, MenuItem, ContextMenuTrigger } from \"react-contextmenu\";\nimport $ from \"jquery\";\nimport { getCookie } from \"../App\";\nconst fetch = require('sync-fetch');\n\nexport class AgentsPanel extends React.Component {\n  constructor(props) {\n    super(props);\n    this.returnBeaconData = this.returnBeaconData.bind(this);\n    this.state = { isLoaded: false, focused: false, agents: [], dragSources: [], activeIndex: {}, allIndexes: {} };\n  }\n\n  render() {\n    const { isLoaded, agents, dragSources, allIndexes } = this.state;\n    if (!isLoaded) {\n      const FA = require('react-fontawesome');\n      return <div className=\"loading\"><FA name=\"spinner enlargeSpinner\" className=\"rotate\"/><br />LOADING</div>;\n    }\n\n    for (var i = 0; i < localStorage.length; i++) {\n      const item = localStorage.key(i);\n      if (item !== \"savedConnections\" && !item.includes(\"Host\") && !item.includes(\"Nick\") && !item.includes(\"Token\") && !item.includes(\"gl-\") && !item.includes(\"_latest\") && !item.includes(\"token\")) {\n        if (!(item in agents)) {\n          localStorage.removeItem(item);\n          localStorage.removeItem(item+\"_latest\");\n        }\n      };\n    }\n\n    const agentInfo = Object.keys(agents).map(function(key, index) {\n      const agent = agents[key];\n      const uuid = key;\n\n      function myClick() {\n        this.selectRow(index);\n        const newItemConfig = {\n          title: agents[uuid][\"ip_addr\"]+\"@\"+uuid,\n          type: \"react-component\",\n          component: \"agents-menu-component\",\n          props: { agentuuid: uuid, returnBeaconData: this.returnBeaconData },\n        };\n        if( global.myMainLayout.selectedItem === null ) {\n          //alert( 'No item selected. Please click the black header bar to select which item you want to add new items to.' );\n          global.myMainLayout.root.contentItems[ 0 ].addChild( newItemConfig );\n        } else {\n          global.myMainLayout.selectedItem.addChild( newItemConfig );\n        }\n      }\n\n      allIndexes[index] = uuid;\n      return <ContextMenuTrigger key={uuid} id={uuid+\"shad0wMENU\"} renderTag=\"tr\" attributes={{\n        id: uuid+\"shad0w\",\n        className: \"pointer \" + ((index in this.state.activeIndex) && \"active-index\")\n      }}>\n        {/*<tr id={uuid+\"shad0w\"} key={uuid} className=\"pointer\">*/}\n          <td onContextMenu={ e=>this.selectRowRight(index,uuid) } onClick={ e=>this.selectRow(index,uuid) } onDoubleClick={myClick.bind(this)} /*style={{display: \"none\"}}*/>{uuid}</td>\n          <td onContextMenu={ e=>this.selectRowRight(index,uuid) } onClick={ e=>this.selectRow(index,uuid) } onDoubleClick={myClick.bind(this)}>{agent[\"ip_addr\"]}</td>\n          <td onContextMenu={ e=>this.selectRowRight(index,uuid) } onClick={ e=>this.selectRow(index,uuid) } onDoubleClick={myClick.bind(this)}>{agent[\"username\"]}</td>\n          <td onContextMenu={ e=>this.selectRowRight(index,uuid) } onClick={ e=>this.selectRow(index,uuid) } onDoubleClick={myClick.bind(this)}>{agent[\"machine\"]}</td>\n          <td onContextMenu={ e=>this.selectRowRight(index,uuid) } onClick={ e=>this.selectRow(index,uuid) } onDoubleClick={myClick.bind(this)}>{agent[\"arch\"]}</td>\n          <td onContextMenu={ e=>this.selectRowRight(index,uuid) } onClick={ e=>this.selectRow(index,uuid) } onDoubleClick={myClick.bind(this)}>{agent[\"os\"]}</td>\n          <td onContextMenu={ e=>this.selectRowRight(index,uuid) } onClick={ e=>this.selectRow(index,uuid) } onDoubleClick={myClick.bind(this)}>{agent[\"domain\"]}</td>\n          <td onContextMenu={ e=>this.selectRowRight(index,uuid) } onClick={ e=>this.selectRow(index,uuid) } onDoubleClick={myClick.bind(this)}>{agent[\"secure\"] === true ? \"True\":\"False\"}</td>\n          <td onContextMenu={ e=>this.selectRowRight(index,uuid) } onClick={ e=>this.selectRow(index,uuid) } onDoubleClick={myClick.bind(this)}>{agent[\"last_checkin_raw\"]}</td>\n          {/*<td onClick={() => this.clear(uuid)}>X</td>*/}\n        {/*</tr>*/}\n        </ContextMenuTrigger>\n    }.bind(this));\n\n    let deviceIsMobile = false; //At the beginning we set this flag as false. If we can detect the device is a mobile device in the next line, then we set it as true.\n\n    if(/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent) //eslint-disable-line\n        || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(navigator.userAgent.substr(0,4))) { //eslint-disable-line\n      deviceIsMobile = true;\n    }\n\n    if(!deviceIsMobile){\n      const {agents} = this.state;\n      const that = this;\n      $('.pointer').each(function() {\n        const $tds = $(this).find('td'),\n                    agentUUID = $tds.eq(0).text();\n        const newItemConfig = {\n          title: (!agents[agentUUID]) ? \"undefined\" : agents[agentUUID][\"ip_addr\"]+\"@\"+agentUUID,\n          type: \"react-component\",\n          component: \"agents-menu-component\",\n          props: { agentuuid: agentUUID, returnBeaconData: that.returnBeaconData },\n        };\n        if (!(dragSources.includes(agentUUID))) {\n          global.myMainLayout.createDragSource( $(this), newItemConfig );\n          dragSources.push(agentUUID);\n        }\n      });\n  \n      dragSources.forEach(function(item) {\n        if ($(\"#\" + item + \"shad0w\").length === 0) {\n          const index = dragSources.indexOf(item);\n          if (index !== -1) dragSources.splice(index, 1);\n        }\n      });\n    }\n\n    const agentsMenus = Object.keys(agents).map((key) => {\n      const active = this.state.activeIndex;\n      const that = this;\n      function myClick() {\n        for (const agent in active) {\n          const newItemConfig = {\n            title: (!agents[active[agent]]) ? \"undefined\" : agents[active[agent]][\"ip_addr\"]+\"@\"+active[agent],\n            type: \"react-component\",\n            component: \"agents-menu-component\",\n            props: { agentuuid: active[agent], returnBeaconData: that.returnBeaconData },\n          };\n          if( global.myMainLayout.selectedItem === null ) {\n            //alert( 'No item selected. Please click the black header bar to select which item you want to add new items to.' );\n            global.myMainLayout.root.contentItems[ 0 ].addChild( newItemConfig );\n          } else {\n            global.myMainLayout.selectedItem.addChild( newItemConfig );\n          }\n        }\n      }\n      return (\n      <ContextMenu key={key+\"shad0wMENU\"} id={key+\"shad0wMENU\"}>\n        <MenuItem>\n          <strong>{(Object.keys(this.state.activeIndex).length > 1) ? \"MULTIPLE\" : key+\":\"+this.state.agents[key][\"username\"]}</strong>\n        </MenuItem>\n        <MenuItem onClick={myClick}>\n          Interact\n        </MenuItem>\n      </ContextMenu>\n      )\n    });\n\n    return (\n      <div tabIndex=\"1\" onKeyDown={e=>this.selectMany(e)} className=\"scrollable-noflex-nopadding table-responsive\" id=\"Agents_main\"  ref={node => this.node = node}>\n        { agentsMenus }\n        <table className=\"table\"> \n          <thead>\n            <tr className=\"noHover\">\n              <th>Agent</th>\n              <th>IP</th>\n              <th>User</th>\n              <th>Hostname</th>\n              <th>Architecture</th>\n              <th>OS</th>\n              <th>Domain</th>\n              <th>Secure</th>\n              <th>Last Checkin</th>\n              {/*<th>Remove</th>*/}\n            </tr>\n          </thead>\n          <tbody>\n          { agentInfo }\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n\n  selectRow(index, agentuuid) {\n    document.getElementById('Agents_main').focus();\n    const { activeIndex } = this.state;\n    if (!(index in this.state.activeIndex)) {\n      activeIndex[index] = agentuuid;\n    }\n    else {\n      delete activeIndex[index];\n    }\n    this.setState( { activeIndex } )\n  }\n\n  selectRowRight(index, agentuuid) {\n    document.getElementById('Agents_main').focus();\n    const { activeIndex } = this.state;\n    activeIndex[index] = agentuuid;\n    this.setState( { activeIndex } )\n  }\n\n  selectMany(e) {\n    let { activeIndex, allIndexes } = this.state;\n    allIndexes = {};\n    if (e.keyCode === 27) {\n      activeIndex = {};\n      this.setState({activeIndex});\n      return;\n    }\n    if (e.keyCode === 16) {\n      for (const key in this.state.allIndexes) {\n        let vals = [];\n        for (const key in activeIndex) {\n          vals.push(key);\n        }\n        const highest = Math.max.apply( Math, vals );\n        const lowest = Math.min.apply( Math, vals )\n        if (parseInt(key) < highest &&  parseInt(key) >= lowest && highest !== lowest) {\n          activeIndex[key] = this.state.allIndexes[key];\n        }\n      }\n    }\n    this.setState({ activeIndex, allIndexes });\n  }\n\n  handleClick(e) { /*On clicking anywhere outside of our table deselect all values: https://medium.com/@pitipatdop/little-neat-trick-to-capture-click-outside-react-component-5604830beb7f*/\n    if (e.target.id === \"Agents_main\") {\n      this.setState({activeIndex: {}});\n    }\n    else if (this.node.contains(e.target)) {\n      return;\n    }\n    this.setState({activeIndex: {}});\n  }\n\n  getBeacons() {\n    let data;\n    try {\n      data = fetch(getCookie(\"Host\")+\"/beacons\", {\n        method: 'GET',\n        credentials: 'include',\n        headers: {\n          'Cookie': getCookie(\"tokenName\")+'='+getCookie(\"tokenValue\")\n        }\n      }).json();\n      if (data[\"failed\"]) {\n        localStorage.removeItem(\"Nick\")\n        localStorage.removeItem(\"Host\")\n        localStorage.removeItem(\"Token\")\n        localStorage.removeItem(\"tokenName\")\n        localStorage.removeItem(\"tokenValue\")\n        document.cookie = \"SDWAuth= ; expires = Thu, 01 Jan 1970 00:00:00 GMT\"\n        window.location.reload();\n      }\n      return data;\n    }\n    catch {\n      return this.state.agents;\n    }\n  }\n\n  getBeaconData() {\n    let data;\n    try {\n      data = fetch(getCookie(\"Host\")+\"/poll\", {\n        method: 'GET',\n        credentials: 'include',\n        headers: {\n          'Cookie': getCookie(\"tokenName\")+'='+getCookie(\"tokenValue\")\n        }\n      }).json();\n      if (data[\"failed\"]) {\n        localStorage.removeItem(\"Nick\")\n        localStorage.removeItem(\"Host\")\n        localStorage.removeItem(\"Token\")\n        localStorage.removeItem(\"tokenName\")\n        localStorage.removeItem(\"tokenValue\")\n        document.cookie = \"SDWAuth= ; expires = Thu, 01 Jan 1970 00:00:00 GMT\"\n        window.location.reload();\n      }\n      return data;\n    }\n    catch {\n      return this.state.allAgentData;\n    }\n  }\n\n  returnBeaconData() {\n    return this.state.allAgentData;\n  }\n\n  componentDidMount() {\n    let { agents } = this.state;\n    const data = this.getBeacons();\n\n    agents = data;\n\n    document.addEventListener('mousedown', (e)=>this.handleClick(e), false)\n    this.setState({ agents, isLoaded: true });\n    setInterval(x => {\n      let { agents } = this.state;\n      agents = this.getBeacons(); \n      this.setState({ agents });\n    }, 1000);\n\n    setInterval(x => {\n      let { allAgentData } = this.state;\n      allAgentData = this.getBeaconData(); \n      this.setState({ allAgentData });\n    }, 1000);\n  }\n  \n  componentWillUnmount() {\n    document.removeEventListener('mousedown', (e)=>this.handleClick(e), false)\n  }\n\n  componentDidUpdate() {\n    /* */\n  }\n}\n","import React from \"react\";\nimport { getCookie } from \"../App\";\n\nexport class AgentsMenuPanel extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {results: '', agentuuid: this.props.agentuuid, value: '', history: [], historyval: 0, historylatest: '', scroll: true, displayDrop: false };\n    this.messagesEnd = React.createRef();\n    this.messageInput = React.createRef();\n    this.bg = React.createRef();\n  }\n\n  render() {\n    const { agentuuid, results } = this.state;\n    const { returnBeaconData } = this.props;\n    const beaconData = returnBeaconData();\n    let currentBeaconData;\n    try {\n      currentBeaconData = beaconData[agentuuid];\n    }\n    catch {\n      currentBeaconData = [];\n    }\n\n    return (\n      <div className=\"wrap agent-terminal\"\n          ref={ this.bg }\n          onClick={ e=>this.onBgClick(e) }\n          onDoubleClick={ e=>this.onBgClickDouble(e)}\n          onContextMenu={ e=>this.handleClick(e) }>\n        <div className=\"output\">\n          <div>[+] Agent {agentuuid} {(currentBeaconData) ? \"Connected.\" : \"Disconnected.\"}</div>\n          <div>Welcome to Shad0w C2.</div><br />\n          <div>Enter a command.</div>\n          <div>Click the window to scroll to the bottom.  To select text, right click to disable this feature and right click again to re-enable.</div><br />\n          <div className=\"pre\">{ results }</div>\n          <div style={{ display:\"flex\" }}>\n          <div style={{ whiteSpace:\"nowrap\" }}>{(this.state.scroll) && \"*\"} Shad0w {\"> \"} &nbsp;</div>\n            <input ref={this.messageInput} maxLength=\"512\" onChange={function(e){this.handleChange(e)}.bind(this)} value={this.state.value} className=\"input clear\" onKeyDown={function(e){this.keyPress(e)}.bind(this)}/>\n          </div>\n          <div style={{height:\"0\"}} ref={this.messagesEnd} />\n         </div>\n      </div>\n    );\n  }\n\n  print_result_newline(result) {\n    const { agentuuid } = this.state;\n    let { results, latest_result } = this.state;\n    if (localStorage.getItem(agentuuid)) {\n      results = localStorage.getItem(agentuuid);\n    }\n    if (localStorage.getItem(agentuuid+\"_latest\")) {\n      latest_result = localStorage.getItem(agentuuid+\"_latest\");\n    }\n    if (latest_result !== result) {\n      results+= \"Shad0w > \" + result + \"\\n\";\n      const updateState = () => {\n         this.setState({\n           results\n         },() => { this.bottomScroll(); })\n       }\n       updateState();\n       localStorage.setItem(agentuuid, results);\n    }\n  }\n\n  time = null;\n  print_result(result) {\n    const { agentuuid, latest_result } = this.state;\n\n    const bytes = result.length;\n\n    let { results } = this.state;\n    if (localStorage.getItem(agentuuid)) {\n      results = localStorage.getItem(agentuuid);\n    }\n\n    //const results_latest = localStorage.getItem(agentuuid+\"_latest\");\n    //The below continues to print the last thing in the agent queue when the agent exits, only show if not stale.\n    //alert(checkLatest);\n    if (result === \"LOAD\") {\n      results+= \"\";\n    } else {\n      results+= \"Results >>\\n\" + result + \"\\n[+] Host responded with [\" + bytes + \"] bytes.\\n\";\n    }\n    if (latest_result !== result) {\n      const updateState = () => {\n        this.setState({\n          results,\n          latest_result : result,\n          dedup : true\n        },() => { \n          localStorage.setItem(agentuuid, results);\n          this.bottomScroll(); })\n      }\n      updateState();\n    }\n  }\n\n  onBgClick(e) {\n    if (!this.state.scroll) {\n      return;\n    }\n    if (this.isInViewport() === false) {\n      this.bottomScroll();\n    } else {\n      this.messageInput.current.focus();\n    }\n  }\n\n  onBgClickDouble(e) {\n    if (!this.state.scroll) {\n      return;\n    }\n    if (this.isInViewport() === false) {\n      this.bottomScroll();\n    } else {\n      this.messageInput.current.focus();\n    }\n  }\n\n  handleClick(e) {\n    e.preventDefault();\n    let {scroll} = this.state;\n    if (e.button === 2) {\n      scroll = !scroll;\n      this.setState({ scroll });\n    }\n  }\n\n  handleChange(e) {\n    this.setState({ value: e.target.value });\n  }\n\n  keyPress(e) {\n    if(e.keyCode === 38) {\n      let { value, history, historyval, historylatest } = this.state;\n\n      if(historyval === history.length)\n        historylatest = value;\n\n      if(historyval > 0)\n        historyval--;\n\n      value = history[historyval];\n\n      e.preventDefault();\n      this.HAXLOL = true;\n      this.setState({ value, historyval, historylatest });\n\n      return false;\n    }\n    else if(e.keyCode === 40) {\n      let { value, history, historyval, historylatest } = this.state;\n      \n      if(historyval !== history.length)\n        historyval++;\n      \n      if(historyval === history.length+1)\n        value = history[historyval-1];\n      else if(historyval === history.length)\n        value = historylatest\n      else\n        value = history[historyval];\n\n      e.preventDefault();\n      this.HAXLOL = true;\n      this.setState({ value, historyval });\n\n      return false;\n    }\n    else if(e.keyCode === 13){\n      this.bottomScroll();\n      const { agentuuid } = this.state;\n\n      if(this.state.value === \"\"){\n        this.print_result_newline(' ');\n        return false;\n      }\n      else if(this.state.value === \"clear\" || this.state.value.split(\" \")[0] === \"clear\") {\n        this.setState({ value: '', results: '', latest_result: ''});\n        localStorage.removeItem(agentuuid);\n        localStorage.removeItem(agentuuid+\"_latest\");\n      }\n      else {\n        this.print_result_newline(`${this.state.value}\\n[+] Tasking agent to run \"${this.state.value}\"`);\n        this.sendAgentData();\n      } \n    }\n  }\n\n  sendAgentData(inject) {\n    let { history, historyval, value, historylatest, agentuuid } = this.state;\n    historylatest = \"\";\n    if(history.length > 1024)\n      history = history.slice(history.length-1024)\n    if (inject === true) {\n      history = history.concat(value);\n      const lastIndex = value.lastIndexOf(\" \");\n      const str = value.substring(0, lastIndex);\n      history = history.concat(str);\n    }\n    else {\n      history = history.concat(value);\n    }\n    historyval = history.length;\n    this.setState({ history, historyval, value, historylatest });\n\n    const encodedString = Buffer.from(value).toString('base64');\n    fetch(getCookie(\"Host\")+\"/cmd\", {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\"beacon_id\": agentuuid, \"cmd\": encodedString}),\n      credentials: 'include'\n    })\n      .then((response) => response.json())\n      .then((json) => {\n        console.log(document.cookie);\n        if (json[\"success\"] === true) {\n          console.log(\"Success\");\n        }\n      }).catch((err) => {\n        this.print_result(\"Invalid Command.\\n\");\n        console.log(err);\n    });\n    this.setState({ value: '' });\n  }\n\n  bottomScroll() {\n    this.scrollToBottom();\n    const { current } = this.messageInput;\n    if (current && this.HAXLOL) {\n      this.HAXLOL = false;\n      const { value } = this.state;\n      if (value != null) {\n        current.setSelectionRange(value.length, value.length);\n      }\n    }\n  }\n\n  scrollToBottom = () => {\n    this.messagesEnd.current.scrollIntoView({ behavior: 'smooth' });\n  }\n\n  isInViewport(offset = 0) {\n    if (!this.messageInput.current) return false;\n    const top = this.messageInput.current.getBoundingClientRect().top;\n    return (top + offset) >= 0 && (top - offset) <= window.innerHeight;\n  }\n\n  componentDidMount() {\n    this.scrollToBottom();\n\n    const { agentuuid } = this.state;\n    const { returnBeaconData } = this.props;\n\n    const beaconData = returnBeaconData();\n    \n    if (beaconData !== undefined) {\n      if (agentuuid in beaconData) {\n        this.print_result(\"LOAD\");\n      }\n    }\n\n    setInterval(x => this.forceUpdate(), 1000);\n  }\n\n  componentDidUpdate() {\n    const { agentuuid } = this.state;\n    const { returnBeaconData } = this.props;\n\n    const beaconData = returnBeaconData();\n\n    if (beaconData[agentuuid].length > 0) {\n        const agentResults = beaconData[agentuuid];\n        this.print_result(agentResults.join(\"\\n\"));\n    }\n  }\n}","module.exports = __webpack_public_path__ + \"static/media/background.977e3fd0.jpg\";","import $ from \"jquery\";\n//import React from \"react\";\n//import ReactDOM from \"react-dom\";\nwindow.$ = $;\nwindow.jQuery = $;\nwindow.jquery = $;\n\n//window.ReactDOM = ReactDOM;\n//window.React = React;\n","import React from \"react\";\nimport { GoldenLayoutComponent } from \"./GoldenLayout/goldenLayoutComponent\";\nimport { AgentsPanel } from \"./GoldenLayout/AgentsPanel\";\nimport { AgentsMenuPanel } from \"./GoldenLayout/AgentsMenuPanel\";\nimport 'react-confirm-alert/src/react-confirm-alert.css'\nimport 'golden-layout/src/css/goldenlayout-base.css';\nimport 'golden-layout/src/css/goldenlayout-dark-theme.css';\nimport 'bootstrap-css-only/css/bootstrap.min.css';\nimport './App.css';\nimport logo from \"./logo.png\";\nimport background from \"./background.jpg\";\nimport packageJson from \"../package.json\";\n\nexport function getCookie(name) {\n  var cookie = localStorage.getItem(name);\n  return cookie;\n}\n\nexport default class App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoaded: false, nickValue: 'admin', hostValue: 'http://127.0.0.1:1337', tokenValue: 'shad0w', commState: {}\n    };\n  }\n\n  handleChangeNick(e) {\n    this.setState({ nickValue: e.target.value });\n  }\n  handleChangeHost(e) {\n    this.setState({ hostValue: e.target.value });\n  }\n  handleChangeToken(e) {\n    this.setState({ tokenValue: e.target.value });\n  }\n\n  setCookie(name,value) {\n    localStorage.setItem(name, value);\n  }\n\n  setAllCookies() {\n    this.setCookie(\"Host\", this.state.hostValue);\n    this.setCookie(\"LastHost\", this.state.hostValue);\n    this.setCookie(\"Nick\", this.state.nickValue);\n    this.setCookie(\"LastNick\", this.state.nickValue);\n    this.setCookie(\"Token\", this.state.tokenValue);\n    this.setCookie(\"LastToken\", this.state.tokenValue);\n\n    let {hostValue, tokenValue, nickValue} = this.state;\n    const newLogin = {};\n    newLogin[hostValue] = {\"nick\":nickValue,\"token\":tokenValue};\n    if ( localStorage.getItem(\"savedConnections\") ) {\n      const tmp = localStorage.getItem(\"savedConnections\");\n      this.setCookie(\"savedConnections\", JSON.stringify(Object.assign({}, JSON.parse(tmp), newLogin)));\n    }\n    else {\n      this.setCookie(\"savedConnections\", JSON.stringify(newLogin));\n    }\n    fetch(getCookie(\"Host\")+\"/login\", {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\"username\": getCookie(\"Nick\"), \"password\": getCookie(\"Token\")}),\n      credentials: 'include'\n    })\n      .then((response) => response.json())\n      .then((json) => {\n        //console.log(document.cookie);\n        if (json[\"success\"] === false) {\n          alert(\"BAD CREDENTIALS.  Try again!\")\n        } else {\n          console.log('OK');\n          var now = new Date();\n          var time = now.getTime();\n          var expireTime = time + 1000*36000;\n          now.setTime(expireTime);\n          document.cookie = json[\"tokenName\"]+'='+json[\"tokenValue\"]+';expires='+now.toUTCString()+';path=/';\n          this.setCookie(\"tokenName\", json[\"tokenName\"]);\n          this.setCookie(\"tokenValue\", json[\"tokenValue\"])\n          window.location.reload();\n        }\n      }).catch((err) => {\n        alert(\"Connection failed.\");\n        console.log(err);\n    });\n  }\n\n  eraseCookie(name) {   \n    localStorage.removeItem(name);\n  }\n\n  eraseAllCookies() {\n    this.eraseCookie(\"Nick\");\n    this.eraseCookie(\"Host\");\n    this.eraseCookie(\"Token\");\n    this.eraseCookie(\"tokenName\");\n    this.eraseCookie(\"tokenValue\");\n    document.cookie = \"SDWAuth= ; expires = Thu, 01 Jan 1970 00:00:00 GMT\"\n    window.location.reload();\n  }\n\n  //SDWAuth\n  UNSAFE_componentWillMount() {\n    if (getCookie(\"LastHost\")) {\n      this.setState({ hostValue: getCookie(\"LastHost\")});\n    }\n    if (getCookie(\"LastNick\")) {\n      this.setState({ nickValue: getCookie(\"LastNick\")});\n    }\n    if (getCookie(\"LastToken\")) {\n      this.setState({ tokenValue: getCookie(\"LastToken\")});\n    }\n    if (getCookie(\"tokenName\") && getCookie(\"tokenValue\")) {\n      this.setState({isLoaded: true});\n    }\n  }\n\n  change(event) {\n    this.setState({hostValue: event.target.value});\n    this.setState({nickValue: JSON.parse(localStorage.getItem(\"savedConnections\"))[event.target.value][\"nick\"]});\n    this.setState({tokenValue: JSON.parse(localStorage.getItem(\"savedConnections\"))[event.target.value][\"token\"]});\n    this.setState({connOption: event.target.value});\n  }\n\n  clearAllConnections() {\n    this.eraseCookie(\"savedConnections\");\n    this.eraseCookie(\"LastHost\");\n    this.eraseCookie(\"LastNick\");\n    this.eraseCookie(\"LastToken\");\n  }\n\n  clearConnection() {\n    const strUser = this.state.connOption;\n    const current = JSON.parse(getCookie(\"savedConnections\"));\n    delete current[strUser];\n    this.setCookie(\"savedConnections\", JSON.stringify(current));\n  }\n\n  showSidebar(e) {\n    if (e.target.tagName === \"LI\" || e.target.tagName === \"UL\" || e.target.tagName === \"SPAN\") {\n      return false;\n    }\n    \n    let deviceIsMobile = false; //At the beginning we set this flag as false. If we can detect the device is a mobile device in the next line, then we set it as true.\n    if(/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent) //eslint-disable-line\n        || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(navigator.userAgent.substr(0,4))) { //eslint-disable-line\n      deviceIsMobile = true;\n    }\n\n    let {menuVisible} = this.state;\n    menuVisible = !menuVisible;\n    if (menuVisible && !deviceIsMobile) {\n      this.restartTimer();\n    }\n    else if (!deviceIsMobile) {\n      if (this.timer) {\n        clearTimeout(this.timer);\n        this.timer = undefined;\n      }\n    }\n    this.setState({ menuVisible });\n    return;\n  }\n\n  toggleSidebar() {\n    this.timer = undefined;\n    this.setState({ menuVisible: !this.state.menuVisible });\n    return;\n  }\n\n  timer = undefined;\n  restartTimer() {\n    let deviceIsMobile = false; //At the beginning we set this flag as false. If we can detect the device is a mobile device in the next line, then we set it as true.\n    if(/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent) //eslint-disable-line\n        || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(navigator.userAgent.substr(0,4))) { //eslint-disable-line\n      deviceIsMobile = true;\n    }\n    if (deviceIsMobile) {\n      return false;\n    }\n\n    if (this.timer) {\n      clearTimeout(this.timer);\n    }\n    this.timer = setTimeout(this.toggleSidebar.bind(this), 1000);\n  }\n\n  stopTimer() {\n    if (this.timer) {\n      clearTimeout(this.timer);\n      this.timer = undefined;\n    }\n  }\n\n  render() {\n    const FA = require('react-fontawesome')\n    const { menuVisible } = this.state;\n\n    const saved = localStorage.getItem(\"savedConnections\");\n    let connections;\n    if (saved) {\n      connections = Object.keys(JSON.parse(localStorage.getItem(\"savedConnections\"))).map(function(key) {\n      return <option key={Math.random()} value={key}>{key}</option>;\n      });\n    }\n\n    if (getCookie('Host') === null || getCookie('Nick') === null || getCookie('Token') === null || getCookie('tokenName') === null || getCookie('tokenValue') === null) {\n      return ( \n        <div className=\"wrapper fadeInDown fill-cont\" style={{backgroundImage : 'url(' + background + ')'}}>\n          <div id=\"formContent\" className=\"fadeIn first\">\n            <form>\n              <br />\n              <h1 style={{color:\"white\"}}>shad0w<br/><span style={{fontSize:\"20px\"}}>v{packageJson.version}</span></h1>\n              <img src={logo} style={{width:\"10%\"}} alt=\"shad0w\" />\n              <br /><br />\n              <p style={{color:\"white\"}}><strong>Enter a host, nickname and token to login.</strong></p>\n              <span className=\"custom-dropdown\">\n               <select defaultValue=\"\" value={this.state.connOption} id=\"connection\" onChange={this.change.bind(this)}>\n                <option disabled value=\"\">Saved Connections</option>\n                  { connections }\n                </select>\n              </span><br />\n              <input onChange={function(e){this.handleChangeHost(e)}.bind(this)} value={this.state.hostValue} type=\"text\" id=\"Host\" className=\"fadeIn third\" name=\"Host\" placeholder=\"Host\"/>\n              <input onChange={function(e){this.handleChangeNick(e)}.bind(this)} value={this.state.nickValue} type=\"text\" id=\"Nick\" className=\"fadeIn second\" name=\"Nick\" placeholder=\"Nick\"/>\n              <input onChange={function(e){this.handleChangeToken(e)}.bind(this)} value={this.state.tokenValue} type=\"text\" id=\"Token\" className=\"fadeIn third\" name=\"Token\" placeholder=\"Token\"/>\n              <br /><br /><button type=\"button\" className=\"fadeIn fourth btn btn-light\" onClick={function(){this.setAllCookies()}.bind(this)}>ENTER</button> <button className=\"fadeIn fourth btn btn-light\" onClick={function(){this.clearAllConnections()}.bind(this)}>CLEAR ALL</button><br /><br />\n              <button className=\"fadeIn fourth btn btn-light\" onClick={function(){this.clearConnection()}.bind(this)}>DELETE SELECTED CONNECTION</button><br /><br />\n            </form>\n          </div>\n        </div>\n      );\n    }\n \n    if (!this.state.isLoaded) {\n      return <div>Loading...</div>;\n    }\n\n    return (\n      <div onClick={(menuVisible) ? this.showSidebar.bind(this):() => { return false }}>\n        <div id=\"wrapper\">\n          <ul id=\"menuContainer\" onMouseEnter={this.stopTimer.bind(this)} onMouseLeave={this.restartTimer.bind(this)} className={\"scrollable \"+( menuVisible ? 'visible' : '' )}>\n            <li><img src={logo} style={{width:\"30%\"}} alt=\"jian yang\" /><span style={{fontSize:\"20px\"}}>&nbsp;<strong><br />shad0w</strong></span></li>\n            <li onClick={function(){this.eraseAllCookies()}.bind(this)}>Logout</li>\n            <li onClick={function(){window.location.reload()}}>Reload</li>\n          </ul>\n          <div className=\"drawerScroll\">\n            <img style={{ position:\"relative\", width:\"25px\"}} src={logo} alt=\"jian yang\" /><div className=\"pad\" />\n            <div title=\"expand\" onClick={this.showSidebar.bind(this)} className={\"drawerBtn \"+( menuVisible ? 'visibleBtn' : '' )}><strong>...</strong></div><div className=\"pad\" />\n            <div title=\"logout\" onClick={function(){this.eraseAllCookies()}.bind(this)} className={\"drawerBtn \"+( menuVisible ? 'visibleBtn' : '' )}><FA name=\"sign-out-alt\" /></div><div className=\"pad\" />\n            <div title=\"refresh\" onClick={function(){window.location.reload()}} className={\"drawerBtn \"+( menuVisible ? 'visibleBtn' : '' )}><FA name=\"sync\" /></div><div className=\"pad\" />\n          </div>\n          <div id=\"layoutContainer\"></div>\n        </div>\n        <GoldenLayoutComponent //config from simple react example: https://golden-layout.com/examples/#qZXEyv\n            config={{\n              settings: {\n                selectionEnabled: true\n              },\n              content: [{\n                type: \"column\",\n                content:[{\n                  type:\"react-component\",\n                  title: \"Agents\",\n                  component: \"agents-component\",\n                  isClosable: false,\n                  activeItemIndex: 1,\n                  props: {  }\n                }]\n              }]\n            }}\n            registerComponents={myLayout => {\n              myLayout.registerComponent(\"agents-component\", AgentsPanel);\n              myLayout.registerComponent(\"agents-menu-component\", AgentsMenuPanel);\n            }}\n        />\n      </div>\n    );\n  }\n\n}","global.myMainLayout = undefined;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport './globals.js'\n\nwindow.React = React;\nwindow.ReactDOM = ReactDOM;\n\nReactDOM.render(\n<App />, \ndocument.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}