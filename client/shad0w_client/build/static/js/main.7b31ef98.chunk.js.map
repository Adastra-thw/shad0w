{"version":3,"sources":["App.js","logo.png","GoldenLayout/goldenLayoutComponent.js","GoldenLayout/AgentsPanel.js","GoldenLayout/AgentsMenuPanel.js","background.jpg","GoldenLayout/goldenLayout-dependencies.js","globals.js","serviceWorker.js","index.js"],"names":["getCookie","name","localStorage","getItem","App","props","_this","Object","_home_kali_Desktop_shad0w_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","_home_kali_Desktop_shad0w_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_home_kali_Desktop_shad0w_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","timer","undefined","state","isLoaded","nickValue","hostValue","tokenValue","commState","e","setState","target","value","setItem","setCookie","_this$state","newLogin","nick","token","tmp","JSON","stringify","assign","parse","fetch","method","headers","Accept","Content-Type","body","username","password","credentials","then","response","json","console","log","document","cookie","alert","window","location","reload","catch","err","removeItem","eraseCookie","indexOf","event","connOption","strUser","current","tagName","deviceIsMobile","test","navigator","userAgent","substr","menuVisible","restartTimer","clearTimeout","setTimeout","toggleSidebar","bind","connections","FA","require","keys","map","key","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","Math","random","className","style","backgroundImage","background","id","color","fontSize","packageJson","version","src","logo","width","alt","defaultValue","onChange","change","disabled","handleChangeHost","type","placeholder","handleChangeNick","handleChangeToken","onClick","setAllCookies","clearAllConnections","clearConnection","showSidebar","onMouseEnter","stopTimer","onMouseLeave","eraseAllCookies","position","tlte","title","_GoldenLayout_goldenLayoutComponent__WEBPACK_IMPORTED_MODULE_6__","config","settings","selectionEnabled","content","component","isClosable","activeItemIndex","registerComponents","myLayout","registerComponent","AgentsPanel","AgentsMenuPanel","React","Component","module","exports","__webpack_require__","p","GoldenLayoutComponent","_React$Component","_getPrototypeOf2","_len","arguments","length","args","Array","_key","apply","concat","containerRef","createRef","goldenLayoutInstance","_home_kali_Desktop_shad0w_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__","_home_kali_Desktop_shad0w_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__","panels","from","renderPanels","ref","htmlAttrs","panel","index","ReactDOM","createPortal","_getReactComponent","_container","getElement","reactComponentHandler","newRenderPanels","Set","add","delete","GoldenLayout","$","global","myMainLayout","Function","reactContainer","init","addEventListener","updateSize","height","ReactComponentHandlerPatched","layoutManager","componentRender","off","_render","_destroy","defaultProps","glEventHub","eventHub","glContainer","extend","_config","_reactClass","utils","ReactComponentHandler","focused","agents","agentsCheck","dragSources","activeIndex","allIndexes","_this3","i","item","includes","active_agents","agentInfo","_this2","agent","myClick","selectRow","newItemConfig","agentuuid","selectedItem","root","contentItems","addChild","react_contextmenu__WEBPACK_IMPORTED_MODULE_6__","renderTag","attributes","onContextMenu","selectRowRight","onDoubleClick","each","agentUUID","find","eq","text","createDragSource","push","forEach","splice","agentsMenus","active","tabIndex","onKeyDown","selectMany","node","newCheckin","_this4","x","getElementById","focus","_this$state2","keyCode","vals","highest","max","lowest","min","parseInt","contains","data","_this5","removeEventListener","handleClick","handleSelect","bfile","that","_home_kali_Desktop_shad0w_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__","files","reader","FileReader","onload","result","base64String","Uint8Array","Buffer","toString","displayDrop","trim","lastIndex","lastIndexOf","str","substring","print_result_newline","sendAgentData","readAsArrayBuffer","handleDrop","time","scrollToBottom","messagesEnd","scrollIntoView","behavior","results","history","historyval","historylatest","latest_result","scroll","messageInput","bg","activeAgent","getCommState","react__WEBPACK_IMPORTED_MODULE_6___default","onBgClick","onBgClickDouble","react_file_drop__WEBPACK_IMPORTED_MODULE_7__","onDrop","zIndex","display","whiteSpace","getStub","maxLength","handleChange","keyPress","buffer","bytes","len","byteLength","array","String","fromCharCode","btoa","join","dt","Date","getTime","ceil","stale","seconds","floor","round","trueSleep","bottomScroll","_this$state3","checkLatest","split","results_latest","dedup","isInViewport","preventDefault","button","_this$state4","HAXLOL","_this$state5","helpMenu","win32commands","win64commands","linuxcommands","darwincommands","helpArr","helpCommand","help","ordered","sort","inject","_this$state6","slice","setSelectionRange","offset","top","getBoundingClientRect","innerHeight","_this6","print_result","setInterval","forceUpdate","agentResults","jquery__WEBPACK_IMPORTED_MODULE_0__","jquery__WEBPACK_IMPORTED_MODULE_0___default","n","jQuery","jquery","Boolean","hostname","match","render","react_default","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.7b31ef98.chunk.js","sourcesContent":["import React from \"react\";\nimport { GoldenLayoutComponent } from \"./GoldenLayout/goldenLayoutComponent\";\nimport { AgentsPanel } from \"./GoldenLayout/AgentsPanel\";\nimport { AgentsMenuPanel } from \"./GoldenLayout/AgentsMenuPanel\";\nimport 'react-confirm-alert/src/react-confirm-alert.css'\nimport 'golden-layout/src/css/goldenlayout-base.css';\nimport 'golden-layout/src/css/goldenlayout-dark-theme.css';\nimport 'bootstrap-css-only/css/bootstrap.min.css';\nimport './App.css';\nimport logo from \"./logo.png\";\nimport background from \"./background.jpg\";\nimport packageJson from \"../package.json\";\n\nexport function getCookie(name) {\n  var cookie = localStorage.getItem(name);\n  return cookie;\n}\n\nexport default class App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoaded: false, nickValue: 'admin', hostValue: 'http://127.0.0.1:1337', tokenValue: 'shad0w', commState: {}\n    };\n  }\n\n  handleChangeNick(e) {\n    this.setState({ nickValue: e.target.value });\n  }\n  handleChangeHost(e) {\n    this.setState({ hostValue: e.target.value });\n  }\n  handleChangeToken(e) {\n    this.setState({ tokenValue: e.target.value });\n  }\n\n  setCookie(name,value) {\n    localStorage.setItem(name, value);\n  }\n\n  setAllCookies() {\n    this.setCookie(\"Host\", this.state.hostValue);\n    this.setCookie(\"LastHost\", this.state.hostValue);\n    this.setCookie(\"Nick\", this.state.nickValue);\n    this.setCookie(\"LastNick\", this.state.nickValue);\n    this.setCookie(\"Token\", this.state.tokenValue);\n    this.setCookie(\"LastToken\", this.state.tokenValue);\n\n    let {hostValue, tokenValue, nickValue} = this.state;\n    const newLogin = {};\n    newLogin[hostValue] = {\"nick\":nickValue,\"token\":tokenValue};\n    if ( localStorage.getItem(\"savedConnections\") ) {\n      const tmp = localStorage.getItem(\"savedConnections\");\n      this.setCookie(\"savedConnections\", JSON.stringify(Object.assign({}, JSON.parse(tmp), newLogin)));\n    }\n    else {\n      this.setCookie(\"savedConnections\", JSON.stringify(newLogin));\n    }\n    fetch(getCookie(\"Host\")+\"/login\", {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\"username\": getCookie(\"Nick\"), \"password\": getCookie(\"Token\")}),\n      credentials: 'include'\n    })\n      .then((response) => response.json())\n      .then((json) => {\n        console.log(document.cookie);\n        if (json[\"success\"] === false) {\n          alert(\"BAD CREDENTIALS.  Try again!\")\n        } else {\n          console.log('OK');\n          window.location.reload();\n        }\n      }).catch((err) => {\n        alert(\"Connection failed.\");\n        console.log(err);\n    });\n  }\n\n  eraseCookie(name) {   \n    localStorage.removeItem(name);\n  }\n\n  eraseAllCookies() {\n    this.eraseCookie(\"Nick\");\n    this.eraseCookie(\"Host\");\n    this.eraseCookie(\"Token\");\n    document.cookie = \"SDWAuth= ; expires = Thu, 01 Jan 1970 00:00:00 GMT\"\n    window.location.reload();\n  }\n  //SDWAuth\n  UNSAFE_componentWillMount() {\n    if (getCookie(\"LastHost\")) {\n      this.setState({ hostValue: getCookie(\"LastHost\")});\n    }\n    if (getCookie(\"LastNick\")) {\n      this.setState({ nickValue: getCookie(\"LastNick\")});\n    }\n    if (getCookie(\"LastToken\")) {\n      this.setState({ tokenValue: getCookie(\"LastToken\")});\n    }\n    if (document.cookie.indexOf('SDWAuth') !== -1) {\n      this.setState({isLoaded: true});\n    }\n  }\n\n  change(event) {\n    this.setState({hostValue: event.target.value});\n    this.setState({nickValue: JSON.parse(localStorage.getItem(\"savedConnections\"))[event.target.value][\"nick\"]});\n    this.setState({tokenValue: JSON.parse(localStorage.getItem(\"savedConnections\"))[event.target.value][\"token\"]});\n    this.setState({connOption: event.target.value});\n  }\n\n  clearAllConnections() {\n    this.eraseCookie(\"savedConnections\");\n    this.eraseCookie(\"LastHost\");\n    this.eraseCookie(\"LastNick\");\n    this.eraseCookie(\"LastTicken\");\n  }\n\n  clearConnection() {\n    const strUser = this.state.connOption;\n    const current = JSON.parse(getCookie(\"savedConnections\"));\n    delete current[strUser];\n    this.setCookie(\"savedConnections\", JSON.stringify(current));\n  }\n\n  showSidebar(e) {\n    if (e.target.tagName === \"LI\" || e.target.tagName === \"UL\" || e.target.tagName === \"SPAN\") {\n      return false;\n    }\n    \n    let deviceIsMobile = false; //At the beginning we set this flag as false. If we can detect the device is a mobile device in the next line, then we set it as true.\n    if(/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent) //eslint-disable-line\n        || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(navigator.userAgent.substr(0,4))) { //eslint-disable-line\n      deviceIsMobile = true;\n    }\n\n    let {menuVisible} = this.state;\n    menuVisible = !menuVisible;\n    if (menuVisible && !deviceIsMobile) {\n      this.restartTimer();\n    }\n    else if (!deviceIsMobile) {\n      if (this.timer) {\n        clearTimeout(this.timer);\n        this.timer = undefined;\n      }\n    }\n    this.setState({ menuVisible });\n    return;\n  }\n\n  toggleSidebar() {\n    this.timer = undefined;\n    this.setState({ menuVisible: !this.state.menuVisible });\n    return;\n  }\n\n  timer = undefined;\n  restartTimer() {\n    let deviceIsMobile = false; //At the beginning we set this flag as false. If we can detect the device is a mobile device in the next line, then we set it as true.\n    if(/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent) //eslint-disable-line\n        || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(navigator.userAgent.substr(0,4))) { //eslint-disable-line\n      deviceIsMobile = true;\n    }\n    if (deviceIsMobile) {\n      return false;\n    }\n\n    if (this.timer) {\n      clearTimeout(this.timer);\n    }\n    this.timer = setTimeout(this.toggleSidebar.bind(this), 1000);\n  }\n\n  stopTimer() {\n    if (this.timer) {\n      clearTimeout(this.timer);\n      this.timer = undefined;\n    }\n  }\n\n  render() {\n    const FA = require('react-fontawesome')\n    const { menuVisible } = this.state;\n\n    const saved = localStorage.getItem(\"savedConnections\");\n    let connections;\n    if (saved) {\n      connections = Object.keys(JSON.parse(localStorage.getItem(\"savedConnections\"))).map(function(key) {\n      return <option key={Math.random()} value={key}>{key}</option>;\n      });\n    }\n\n    if (getCookie('Host') === null || getCookie('Nick') === null || getCookie('Token') === null || document.cookie.indexOf('SDWAuth') === -1) {\n      return ( \n        <div className=\"wrapper fadeInDown fill-cont\" style={{backgroundImage : 'url(' + background + ')'}}>\n          <div id=\"formContent\" className=\"fadeIn first\">\n            <form>\n              <br />\n              <h1 style={{color:\"white\"}}>shad0w<br/><span style={{fontSize:\"20px\"}}>v{packageJson.version}</span></h1>\n              <img src={logo} style={{width:\"25%\"}} alt=\"jian yang\" />\n              <br /><br />\n              <p style={{color:\"white\"}}><strong>Enter a host, nickname and token to login.</strong></p>\n              <span className=\"custom-dropdown\">\n               <select defaultValue=\"\" value={this.state.connOption} id=\"connection\" onChange={this.change.bind(this)}>\n                <option disabled value=\"\">Saved Connections</option>\n                  { connections }\n                </select>\n              </span><br />\n              <input onChange={function(e){this.handleChangeHost(e)}.bind(this)} value={this.state.hostValue} type=\"text\" id=\"Host\" className=\"fadeIn third\" name=\"Host\" placeholder=\"Host\"/>\n              <input onChange={function(e){this.handleChangeNick(e)}.bind(this)} value={this.state.nickValue} type=\"text\" id=\"Nick\" className=\"fadeIn second\" name=\"Nick\" placeholder=\"Nick\"/>\n              <input onChange={function(e){this.handleChangeToken(e)}.bind(this)} value={this.state.tokenValue} type=\"text\" id=\"Token\" className=\"fadeIn third\" name=\"Token\" placeholder=\"Token\"/>\n              <br /><br /><button type=\"button\" className=\"fadeIn fourth btn btn-light\" onClick={function(){this.setAllCookies()}.bind(this)}>ENTER</button> <button className=\"fadeIn fourth btn btn-light\" onClick={function(){this.clearAllConnections()}.bind(this)}>CLEAR ALL</button><br /><br />\n              <button className=\"fadeIn fourth btn btn-light\" onClick={function(){this.clearConnection()}.bind(this)}>DELETE SELECTED CONNECTION</button><br /><br />\n            </form>\n          </div>\n        </div>\n      );\n    }\n \n    if (!this.state.isLoaded) {\n      return <div>Loading...</div>;\n    }\n\n    return (\n      <div onClick={(menuVisible) ? this.showSidebar.bind(this):() => { return false }}>\n        <div id=\"wrapper\">\n          <ul id=\"menuContainer\" onMouseEnter={this.stopTimer.bind(this)} onMouseLeave={this.restartTimer.bind(this)} className={\"scrollable \"+( menuVisible ? 'visible' : '' )}>\n            <li><img src={logo} style={{width:\"30%\"}} alt=\"jian yang\" /><span style={{fontSize:\"20px\"}}>&nbsp;<strong>shad0w</strong></span></li>\n            <li onClick={function(){this.eraseAllCookies()}.bind(this)}>Logout</li>\n            <li onClick={function(){window.location.reload()}}>Reload</li>\n          </ul>\n          <div className=\"drawerScroll\">\n            <img style={{ position:\"relative\", width:\"25px\"}} src={logo} alt=\"jian yang\" /><div className=\"pad\" />\n            <div tlte=\"expand\" onClick={this.showSidebar.bind(this)} className={\"drawerBtn \"+( menuVisible ? 'visibleBtn' : '' )}><FA name=\"ellipsis-h\" /></div><div className=\"pad\" />\n            <div title=\"logout\" onClick={function(){this.eraseAllCookies()}.bind(this)} className={\"drawerBtn \"+( menuVisible ? 'visibleBtn' : '' )}><FA name=\"sign-out-alt\" /></div><div className=\"pad\" />\n            <div title=\"refresh\" onClick={function(){window.location.reload()}} className={\"drawerBtn \"+( menuVisible ? 'visibleBtn' : '' )}><FA name=\"sync\" /></div><div className=\"pad\" />\n          </div>\n          <div id=\"layoutContainer\"></div>\n        </div>\n        <GoldenLayoutComponent //config from simple react example: https://golden-layout.com/examples/#qZXEyv\n            config={{\n              settings: {\n                selectionEnabled: true\n              },\n              content: [{\n                type: \"column\",\n                content:[{\n                  type:\"react-component\",\n                  title: \"Agents\",\n                  component: \"agents-component\",\n                  isClosable: false,\n                  activeItemIndex: 1,\n                  props: {  }\n                }]\n              }]\n            }}\n            registerComponents={myLayout => {\n              myLayout.registerComponent(\"agents-component\", AgentsPanel);\n              myLayout.registerComponent(\"agents-menu-component\", AgentsMenuPanel);\n            }}\n        />\n      </div>\n    );\n  }\n\n}","module.exports = __webpack_public_path__ + \"static/media/logo.b03442fa.png\";","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./goldenLayout-dependencies\";\nimport GoldenLayout from \"golden-layout\";\nimport $ from \"jquery\";\n\nexport class GoldenLayoutComponent extends React.Component {\n  state = {};\n  containerRef = React.createRef();\n\n  render() {\n    let panels = Array.from(this.state.renderPanels || []);\n    return (\n      <div ref={this.containerRef} {...this.props.htmlAttrs}>\n        {panels.map((panel, index) => {\n          return ReactDOM.createPortal(\n            panel._getReactComponent(),\n            panel._container.getElement()[0]\n          );\n        })}\n      </div>\n    );\n  }\n\n  componentRender(reactComponentHandler) {\n    this.setState(state => {\n      let newRenderPanels = new Set(state.renderPanels);\n      newRenderPanels.add(reactComponentHandler);\n      return { renderPanels: newRenderPanels };\n    });\n  }\n  componentDestroy(reactComponentHandler) {\n    this.setState(state => {\n      let newRenderPanels = new Set(state.renderPanels);\n      newRenderPanels.delete(reactComponentHandler);\n      return { renderPanels: newRenderPanels };\n    });\n  }\n\n  goldenLayoutInstance = undefined;\n\n  componentDidMount() {\n    this.goldenLayoutInstance = new GoldenLayout(\n      this.props.config || {},\n      $('#layoutContainer')\n    );\n    //The below globalizes the layout for additional use.\n    global.myMainLayout = this.goldenLayoutInstance;\n    if (this.props.registerComponents instanceof Function)\n      this.props.registerComponents(this.goldenLayoutInstance);\n    this.goldenLayoutInstance.reactContainer = this;\n    this.goldenLayoutInstance.init();\n\n    var deviceIsMobile = false; //At the beginning we set this flag as false. If we can detect the device is a mobile device in the next line, then we set it as true.\n    if(/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent) //eslint-disable-line\n        || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(navigator.userAgent.substr(0,4))) { //eslint-disable-line\n      deviceIsMobile = true;\n    }\n\n    var myLayout = this.goldenLayoutInstance;\n    window.addEventListener('resize', function(event){ \n      //myLayout.updateSize($(window).width(), $(window).height());\n      myLayout.updateSize('100%', $(window).height());\n    });\n    var addMenuItem = function( title, text, component ) {\n      var element = $( '<li>' + text + '</li>' );\n      $( '#menuContainer' ).append( element );\n  \n      var newItemConfig = {\n          title: title,\n          type: 'react-component',\n          component: component,\n          props: { },\n      };\n    \n      if(!deviceIsMobile){\n        myLayout.createDragSource( element, newItemConfig );\n      }\n\n      element.click(function(){\n        if( myLayout.selectedItem === null ) {\n            //alert( 'No item selected. Please click the black header bar to select which item you want to add new items to or drag to create a new window.' );\n            myLayout.root.contentItems[ 0 ].addChild( newItemConfig );\n        } else {\n            myLayout.selectedItem.addChild( newItemConfig );\n        }\n      });\n    };\n    /*addMenuItem( 'Agents Graph', 'Agents Graph', 'agents-graph-component');\n    addMenuItem( 'HTTP Listener', 'HTTP Listener', 'http-listener-component');\n    addMenuItem( 'SMB Listener', 'SMB Listener', 'smb-listener-component');\n    if(!deviceIsMobile){\n      myLayout.createDragSource( $('#helpmenu'), {title:'Agent Help',type:'react-component',component:'help-component'} );\n      myLayout.createDragSource( $('#helpmenuside'), {title:'Agent Help',type:'react-component',component:'help-component'} );\n      myLayout.createDragSource( $('#graphmenu'), {title:'Agents Graph',type:'react-component',component:'agents-graph-component',props: { connPipe: this.props.connPipe, getCommState: this.props.getCommState }} );\n      myLayout.createDragSource( $('#httpmenu'), {title:'HTTP Listener',type:'react-component',component:'http-listener-component',props: { connPipe: this.props.connPipe, getCommState: this.props.getCommState }} );\n      myLayout.createDragSource( $('#smbmenu'), {title:'SMB Listener',type:'react-component',component:'smb-listener-component',props: { connPipe: this.props.connPipe, getCommState: this.props.getCommState }} );\n    }*/\n  }\n}\n\n\n//Patching internal GoldenLayout.__lm.utils.ReactComponentHandler:\n\nconst ReactComponentHandler = GoldenLayout[\"__lm\"].utils.ReactComponentHandler;\n\nclass ReactComponentHandlerPatched extends ReactComponentHandler {\n  _render() {\n    var reactContainer = this._container.layoutManager.reactContainer; //Instance of GoldenLayoutComponent class\n    if (reactContainer && reactContainer.componentRender)\n      reactContainer.componentRender(this);\n  }\n  _destroy() {\n    //ReactDOM.unmountComponentAtNode( this._container.getElement()[ 0 ] );\n    this._container.off(\"open\", this._render, this);\n    this._container.off(\"destroy\", this._destroy, this);\n  }\n\n  _getReactComponent() {\n    //the following method is absolute copy of the original, provided to prevent depenency on window.React\n    var defaultProps = {\n      glEventHub: this._container.layoutManager.eventHub,\n      glContainer: this._container\n    };\n    var props = $.extend(defaultProps, this._container._config.props);\n    return React.createElement(this._reactClass, props);\n  }\n}\n\nGoldenLayout[\"__lm\"].utils.ReactComponentHandler = ReactComponentHandlerPatched;\n","import React from \"react\";\nimport { ContextMenu, MenuItem, ContextMenuTrigger } from \"react-contextmenu\";\nimport $ from \"jquery\";\nimport { getCookie } from \"../App\";\nconst fetch = require('sync-fetch');\n\nexport class AgentsPanel extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { isLoaded: false, focused: false, agents: [], agentsCheck: [], dragSources: [], activeIndex: {}, allIndexes: {} };\n  }\n\n  render() {\n    const { isLoaded, agents, dragSources, allIndexes } = this.state;\n\n    if (!isLoaded) {\n      const FA = require('react-fontawesome');\n      return <div className=\"loading\"><FA name=\"spinner enlargeSpinner\" className=\"rotate\"/><br />LOADING</div>;\n    }\n\n    for (var i = 0; i < localStorage.length; i++) {\n      const item = localStorage.key(i);\n      if (item !== \"savedConnections\" && !item.includes(\"Host\") && !item.includes(\"Nick\") && !item.includes(\"Token\") && !item.includes(\"gl-\") && !item.includes(\"_latest\")) {\n        if (!(item in agents.active_agents)) {\n          localStorage.removeItem(item);\n          localStorage.removeItem(item+\"_latest\");\n        }\n      };\n    }\n\n    const agentInfo = Object.keys(agents.active_agents).map(function(key, index) {\n      const agent = agents.active_agents[key];\n\n      function myClick() {\n        this.selectRow(index);\n        const newItemConfig = {\n          title: agent[\"ip\"]+\"@\"+agent[\"pid\"]+\":\"+agent[\"procname\"],\n          type: \"react-component\",\n          component: \"agents-menu-component\",\n          props: { agentuuid: agent[\"uuid\"] },\n        };\n        if( global.myMainLayout.selectedItem === null ) {\n          //alert( 'No item selected. Please click the black header bar to select which item you want to add new items to.' );\n          global.myMainLayout.root.contentItems[ 0 ].addChild( newItemConfig );\n        } else {\n          global.myMainLayout.selectedItem.addChild( newItemConfig );\n        }\n      }\n\n      allIndexes[index] = agent[\"uuid\"];\n      return <ContextMenuTrigger key={agent[\"uuid\"]} id={agent[\"uuid\"]+\"shad0wMENU\"} renderTag=\"tr\" attributes={{\n        id: agent[\"uuid\"]+\"shad0w\",\n        className: \"pointer \" + ((index in this.state.activeIndex) && \"active-index\")\n      }}>\n        {/*<tr id={agent[\"uuid\"]+\"shad0w\"} key={agent[\"uuid\"]} className=\"pointer\">*/}\n          <td onContextMenu={ e=>this.selectRowRight(index,agent[\"uuid\"]) } onClick={ e=>this.selectRow(index,agent[\"uuid\"]) } onDoubleClick={myClick.bind(this)} /*style={{display: \"none\"}}*/>{agent[\"uuid\"]}</td>\n          <td onContextMenu={ e=>this.selectRowRight(index,agent[\"uuid\"]) } onClick={ e=>this.selectRow(index,agent[\"uuid\"]) } onDoubleClick={myClick.bind(this)}>{agent[\"ip\"]}</td>\n          <td onContextMenu={ e=>this.selectRowRight(index,agent[\"uuid\"]) } onClick={ e=>this.selectRow(index,agent[\"uuid\"]) } onDoubleClick={myClick.bind(this)}>{agent[\"admin\"] === \"true\" ? agent[\"user\"] + \"*\": agent[\"user\"]}</td>\n          <td onContextMenu={ e=>this.selectRowRight(index,agent[\"uuid\"]) } onClick={ e=>this.selectRow(index,agent[\"uuid\"]) } onDoubleClick={myClick.bind(this)}>{agent[\"hostname\"]}</td>\n          <td onContextMenu={ e=>this.selectRowRight(index,agent[\"uuid\"]) } onClick={ e=>this.selectRow(index,agent[\"uuid\"]) } onDoubleClick={myClick.bind(this)}>{agent[\"platform\"]}</td>\n          <td onContextMenu={ e=>this.selectRowRight(index,agent[\"uuid\"]) } onClick={ e=>this.selectRow(index,agent[\"uuid\"]) } onDoubleClick={myClick.bind(this)}>{agent[\"type\"]}</td>\n          <td onContextMenu={ e=>this.selectRowRight(index,agent[\"uuid\"]) } onClick={ e=>this.selectRow(index,agent[\"uuid\"]) } onDoubleClick={myClick.bind(this)}>{agent[\"pid\"]}:{agent[\"procname\"]}</td>\n          <td onContextMenu={ e=>this.selectRowRight(index,agent[\"uuid\"]) } onClick={ e=>this.selectRow(index,agent[\"uuid\"]) } onDoubleClick={myClick.bind(this)}>{agent[\"type\"] !== \"smb\" ? agent[\"sleep\"]+ \"±\" + agent[\"jitter\"] + \"% [\" + agent[\"trueSleep\"] + \"]\" : \"∞\"}</td>\n          {/*<td onClick={() => this.clear(agent[\"uuid\"])}>X</td>*/}\n        {/*</tr>*/}\n        </ContextMenuTrigger>\n    }.bind(this));\n\n    let deviceIsMobile = false; //At the beginning we set this flag as false. If we can detect the device is a mobile device in the next line, then we set it as true.\n\n    if(/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent) //eslint-disable-line\n        || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(navigator.userAgent.substr(0,4))) { //eslint-disable-line\n      deviceIsMobile = true;\n    }\n\n    if(!deviceIsMobile){\n      const {agents} = this.state;\n      $('.pointer').each(function() {\n        const $tds = $(this).find('td'),\n                    agentUUID = $tds.eq(0).text();\n        const newItemConfig = {\n          title: (!agents.active_agents[agentUUID]) ? \"undefined\" : agents.active_agents[agentUUID][\"ip\"]+\"@\"+agents.active_agents[agentUUID][\"pid\"]+\":\"+agents.active_agents[agentUUID][\"procname\"],\n          type: \"react-component\",\n          component: \"agents-menu-component\",\n          props: { agentuuid: agentUUID },\n        };\n        if (!(dragSources.includes(agentUUID))) {\n          global.myMainLayout.createDragSource( $(this), newItemConfig );\n          dragSources.push(agentUUID);\n        }\n      });\n  \n      dragSources.forEach(function(item) {\n        if ($(\"#\" + item + \"shad0w\").length === 0) {\n          const index = dragSources.indexOf(item);\n          if (index !== -1) dragSources.splice(index, 1);\n        }\n      });\n    }\n\n    const agentsMenus = Object.keys(agents.active_agents).map((key) => {\n      const active = this.state.activeIndex;\n      function myClick() {\n        for (const agent in active) {\n          const newItemConfig = {\n            title: (!agents.active_agents[active[agent]]) ? \"undefined\" : agents.active_agents[active[agent]][\"ip\"]+\"@\"+agents.active_agents[active[agent]][\"pid\"]+\":\"+agents.active_agents[active[agent]][\"procname\"],\n            type: \"react-component\",\n            component: \"agents-menu-component\",\n            props: { agentuuid: active[agent] },\n          };\n          if( global.myMainLayout.selectedItem === null ) {\n            //alert( 'No item selected. Please click the black header bar to select which item you want to add new items to.' );\n            global.myMainLayout.root.contentItems[ 0 ].addChild( newItemConfig );\n          } else {\n            global.myMainLayout.selectedItem.addChild( newItemConfig );\n          }\n        }\n      }\n      return (\n      <ContextMenu key={key+\"shad0wMENU\"} id={key+\"shad0wMENU\"}>\n        <MenuItem>\n          <strong>{(Object.keys(this.state.activeIndex).length > 1) ? \"MULTIPLE\" : this.state.agents.active_agents[key][\"pid\"]+\":\"+this.state.agents.active_agents[key][\"procname\"]}</strong>\n        </MenuItem>\n        <MenuItem onClick={myClick}>\n          Interact\n        </MenuItem>\n      </ContextMenu>\n      )\n    });\n\n    return (\n      <div tabIndex=\"1\" onKeyDown={e=>this.selectMany(e)} className=\"scrollable-noflex-nopadding table-responsive\" id=\"Agents_main\"  ref={node => this.node = node}>\n        { this.state.newCheckin && (<div className=\"static\"></div>) }\n        { agentsMenus }\n        <table className=\"table\"> \n          <thead>\n            <tr className=\"noHover\">\n              <th>Agent</th>\n              <th>IP</th>\n              <th>User</th>\n              <th>Hostname</th>\n              <th>OS</th>\n              <th>Type</th>\n              <th>Process</th>\n              <th>Sleep</th>\n              <th>Last Checkin</th>\n              {/*<th>Remove</th>*/}\n            </tr>\n          </thead>\n          <tbody>\n          { agentInfo }\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n\n  triggerStatic() {\n    this.setState({ newCheckin: true });\n    setTimeout(x => this.setState({ newCheckin: false }), 1000);\n  }\n\n  selectRow(index, agentuuid) {\n    document.getElementById('Agents_main').focus();\n    const { activeIndex } = this.state;\n    if (!(index in this.state.activeIndex)) {\n      activeIndex[index] = agentuuid;\n    }\n    else {\n      delete activeIndex[index];\n    }\n    this.setState( { activeIndex } )\n  }\n\n  selectRowRight(index, agentuuid) {\n    document.getElementById('Agents_main').focus();\n    const { activeIndex } = this.state;\n    activeIndex[index] = agentuuid;\n    this.setState( { activeIndex } )\n  }\n\n  selectMany(e) {\n    let { activeIndex, allIndexes } = this.state;\n    allIndexes = {};\n    if (e.keyCode === 27) {\n      activeIndex = {};\n      this.setState({activeIndex});\n      return;\n    }\n    if (e.keyCode === 16) {\n      for (const key in this.state.allIndexes) {\n        let vals = [];\n        for (const key in activeIndex) {\n          vals.push(key);\n        }\n        const highest = Math.max.apply( Math, vals );\n        const lowest = Math.min.apply( Math, vals )\n        if (parseInt(key) < highest &&  parseInt(key) >= lowest && highest !== lowest) {\n          activeIndex[key] = this.state.allIndexes[key];\n        }\n      }\n    }\n    this.setState({ activeIndex, allIndexes });\n  }\n\n  handleClick(e) { /*On clicking anywhere outside of our table deselect all values: https://medium.com/@pitipatdop/little-neat-trick-to-capture-click-outside-react-component-5604830beb7f*/\n    if (e.target.id === \"Agents_main\") {\n      this.setState({activeIndex: {}});\n    }\n    else if (this.node.contains(e.target)) {\n      return;\n    }\n    this.setState({activeIndex: {}});\n  }\n\n  componentDidMount() {\n    let { agents } = this.state;\n\n    /*fetch(getCookie(\"Host\")+\"/beacons\", {\n      method: 'GET',\n      credentials: 'include'\n    })\n      .then((response) => response.json())\n      .then((json) => {\n        console.log(json);\n        agents = json;\n      }).catch((err) => {\n        alert(\"Connection failed.\");\n        console.log(err);\n    });*/\n\n    const data = fetch(getCookie(\"Host\")+\"/beacons\", {\n      method: 'GET',\n      credentials: 'include'\n    }).json();\n\n    console.log(data);\n\n    /*\n    const { getCommState } = this.props;\n    const commState = getCommState();\n    agents = commState;\n\n    for (const agent in agents.active_agents) {\n      agentsCheck.push(agent);\n    }\n\n    this.setState({ agentsCheck, agents, isLoaded: true });\n\n    document.addEventListener('mousedown', (e)=>this.handleClick(e), false)\n    setInterval(x => this.forceUpdate(), 1000);*/\n  }\n  \n  componentWillUnmount() {\n    document.removeEventListener('mousedown', (e)=>this.handleClick(e), false)\n  }\n\n  componentDidUpdate() {\n    /*let { agents, agentsCheck, focused } = this.state;\n\n    if ( focused === false ) {\n      document.getElementById('Agents_main').focus();\n      focused = true;\n      this.setState({ focused });\n    };\n\n    for (const agent in agents.active_agents) {\n      if (!(agentsCheck.includes(agent))) {\n        agentsCheck.push(agent);\n        this.setState({ agentsCheck });\n        this.triggerStatic();\n      }\n    }*/\n  }\n}\n","import React from \"react\";\nimport FileDrop from \"react-file-drop\";\nimport { getCookie } from \"../App\";\n\nexport class AgentsMenuPanel extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {results: '', agentuuid: this.props.agentuuid, value: '', history: [], historyval: 0, historylatest: '', latest_result: '', scroll: true, displayDrop: false };\n    this.messagesEnd = React.createRef();\n    this.messageInput = React.createRef();\n    this.bg = React.createRef();\n  }\n\n  render() {\n    const { agentuuid, results } = this.state;\n    const { getCommState } = this.props;\n    const commState = getCommState();\n    const activeAgent = commState.active_agents[agentuuid];\n\n    return (\n      <div className=\"wrap agent-terminal\"\n          ref={ this.bg }\n          onClick={ e=>this.onBgClick(e) }\n          onDoubleClick={ e=>this.onBgClickDouble(e)}\n          onContextMenu={ e=>this.handleClick(e) }>\n        <FileDrop onDrop={this.handleDrop} className={(this.state.displayDrop) ? \"file-drop\":\"none\"}>\n          <div style={{position:\"fixed\",width:\"100%\",height:\"100%\"}} onClick={()=>this.setState({displayDrop: false})} tabIndex=\"0\" id=\"dropBox\"> </div>\n          <div>Drop a DLL here or select one below.  Click anywhere to cancel.</div>\n          <input style={{zIndex:50000}} type=\"file\" onChange={(e) => this.handleSelect(e)}></input>\n        </FileDrop>\n        <div className=\"output\">\n          <div>[+] Agent {activeAgent && activeAgent[\"uuid\"]} {(activeAgent) ? \"Connected.\" : \"Disconnected.\"}</div>\n          <div>I am Bender; Please insert girder.</div><br />\n          <div>Type 'help' for a list of commands.  Type help [command] to see more details about a command.</div>\n          <div>Click the window to scroll to the bottom.  To select text, right click to disable this feature and right click again to re-enable.</div><br />\n          <div className=\"pre\">{ results }</div>\n          <div style={{ display:\"flex\" }}>\n          <div style={{ whiteSpace:\"nowrap\" }}>{(this.state.scroll) && \"*\"}{this.getStub()}&nbsp;</div>\n            <input ref={this.messageInput} maxLength=\"512\" onChange={function(e){this.handleChange(e)}.bind(this)} value={this.state.value} className=\"input clear\" onKeyDown={function(e){this.keyPress(e)}.bind(this)}/>\n          </div>\n          <div style={{height:\"0\"}} ref={this.messagesEnd} />\n         </div>\n      </div>\n    );\n  }\n  \n  arrayBufferToBase64( buffer ) {\n    var bytes = new Uint8Array( buffer );\n    var len = bytes.byteLength;\n    var array = new Array(len);\n    for (var i = 0; i < len; i++) {\n      array[i] = String.fromCharCode( bytes[ i ] );\n    }\n    return window.btoa( array.join('') );\n}\n\n  handleSelect = (e) => {\n    const that = this;\n    const files = e.target.files;\n    const reader = new FileReader();\n    let bfile;\n    reader.onload= function(e) {\n      bfile = e.target.result;\n      //let base64String = btoa(String.fromCharCode(...new Uint8Array(bfile)));\n      let base64String = new Uint8Array(bfile);\n      base64String = Buffer.from(base64String).toString('base64');\n      that.setState({ displayDrop: false, value: that.state.value.trim()+\" \"+base64String });\n      const lastIndex = that.state.value.lastIndexOf(\" \");\n      const str = that.state.value.substring(0, lastIndex);\n      that.print_result_newline(`${str}\\n[+] Tasking agent to run \"${str}\"`);\n      that.sendAgentData(true);\n    };\n    reader.readAsArrayBuffer(files[0]);\n  }\n\n  handleDrop = (files, event) => {\n    const that = this;\n    const reader = new FileReader();\n    let bfile;\n    reader.onload= function(e) {\n      bfile = e.target.result;\n      let base64String = new Uint8Array(bfile);\n      base64String = Buffer.from(base64String).toString('base64');\n      that.setState({ displayDrop: false, value: that.state.value.trim()+\" \"+base64String });\n      const lastIndex = that.state.value.lastIndexOf(\" \");\n      const str = that.state.value.substring(0, lastIndex);\n      that.print_result_newline(`${str}\\n[+] Tasking agent to run \"${str}\"`);\n      that.sendAgentData(true);\n    };\n    reader.readAsArrayBuffer(files[0]);\n  }\n\n  getStub() {\n    const { agentuuid } = this.state;\n    const { getCommState } = this.props;\n    const commState = getCommState();\n    const activeAgent = commState.active_agents[agentuuid];\n\n    let dt;\n    if (activeAgent) {\n      dt = Math.max(((new Date()).getTime() - activeAgent[\"lastCheckIn\"]) / 1000);\n      if (dt >= 1) {\n        dt = Math.ceil(dt);\n      }\n      let stale = false;\n      let seconds = dt + 's';\n      if (Math.floor(dt) > 6+parseInt(activeAgent[\"sleep\"])+(parseInt(activeAgent[\"sleep\"])*(parseInt(activeAgent[\"jitter\"])/100))+1) {\n        stale = true;\n      }\n      if (dt < 0) {\n        dt = 0;\n      }\n      if (activeAgent[\"sleep\"] === \"0\") {\n        dt = 'interactive';\n      }\n      else {\n        if (dt > 86400) {\n          dt = Math.floor(dt/86400);\n          dt = seconds + '(' + dt + 'd)';\n        }\n        else if (dt > 3600) {\n          dt = Math.floor(dt/3600);\n          dt = seconds + '(' + dt + 'h)';\n        }\n        else if (dt > 60) {\n          dt = Math.floor(dt/60);\n          dt = seconds + '(' + dt + 'm)';\n        }\n        else if (dt >= 1 | dt === 0) {\n          dt = seconds;\n        }\n        else {\n          if (Math.round(dt) === 1) {\n            dt = Math.round(dt) + 's'\n          } else {\n            dt = Math.round(dt*1000) + 'ms'\n          }\n        }\n        if (stale === true) {\n          dt = \"[STALE] \" + dt;\n        }\n      }\n    }\n    let trueSleep = activeAgent && activeAgent[\"trueSleep\"];\n    if (trueSleep === undefined) {\n      trueSleep = \"∞\";\n    } \n    return `Agent (${(activeAgent) ? activeAgent[\"platform\"]:\"N/A\"}) (${dt})[${(activeAgent) ? trueSleep:\"N/A\"}] >`;\n  }\n\n  print_result_newline(result) {\n    const { agentuuid } = this.state;\n    let { results, latest_result } = this.state;\n    if (localStorage.getItem(agentuuid)) {\n      results = localStorage.getItem(agentuuid);\n    }\n    if (localStorage.getItem(agentuuid+\"_latest\")) {\n      latest_result = localStorage.getItem(agentuuid+\"_latest\");\n    }\n    if (latest_result !== result) {\n      results+= this.getStub() + \" \" + result + \"\\n\";\n      const updateState = () => {\n         this.setState({\n           results\n         },() => { this.bottomScroll(); })\n       }\n       updateState();\n       localStorage.setItem(agentuuid, results);\n    }\n  }\n\n  time = null;\n  print_result(result) {\n    const { agentuuid } = this.state;\n    const { getCommState } = this.props;\n    const commState = getCommState();\n    const activeAgent = commState.active_agents[agentuuid];\n    let dt;\n    let stale = false;\n    if (activeAgent) {\n      dt = Math.max(((new Date()).getTime() - activeAgent[\"lastCheckIn\"]) / 1000);\n      if (dt >= 1) {\n        dt = Math.ceil(dt);\n      }\n      if (Math.floor(dt) > parseInt(activeAgent[\"sleep\"])+(parseInt(activeAgent[\"sleep\"])*(parseInt(activeAgent[\"jitter\"])/100))) {\n        stale = true;\n      }\n    }\n\n    let bytes;\n    if (result.includes(\"[X]\")) {\n      bytes = 'N/A';\n    }\n    else {\n      bytes = result.length;\n    }\n\n    let { results, latest_result } = this.state;\n    if (localStorage.getItem(agentuuid)) {\n      results = localStorage.getItem(agentuuid);\n    }\n    let checkLatest = results.split(\"Results >>\")[results.split(\"Results >>\").length-1];\n    if (checkLatest === undefined) {\n      checkLatest = \"\";\n    }\n    const results_latest = localStorage.getItem(agentuuid+\"_latest\");\n    //The below continues to print the last thing in the agent queue when the agent exits, only show if not stale.\n    if (this.time === null | (Math.ceil(((new Date()).getTime()-this.time)/1000) > (this.props.getCommState().active_agents[this.props.agentuuid][\"trueSleep\"]) && stale === false) | result === \"LOAD\" | \n     (activeAgent[\"sleep\"] === undefined && results_latest !== result && result !== latest_result) | (checkLatest.includes(result) && checkLatest.includes(\"Tasking agent to\") && activeAgent[\"type\"] === \"smb\")) {\n      //alert(checkLatest);\n      if (this.props.getCommState().active_agents[this.props.agentuuid][\"trueSleep\"] < 1 && Math.ceil(((new Date()).getTime()-this.time)/1000) < 2) {\n        return false;\n      }\n      this.time = (new Date()).getTime();\n      if (result === \"LOAD\") {\n        results+= \"\";\n      } else {\n        results+= \"Results >>\\n\" + result + \"\\n[+] Host responded with [\" + bytes + \"] bytes.\\n\";\n      }\n      const updateState = () => {\n        this.setState({\n          results,\n          latest_result : result,\n          dedup : true\n        },() => { \n          localStorage.setItem(agentuuid, results);\n          localStorage.setItem(agentuuid+\"_latest\", result);\n          this.bottomScroll(); })\n      }\n      updateState();\n    }\n  }\n\n  onBgClick(e) {\n    if (!this.state.scroll) {\n      return;\n    }\n    if (this.isInViewport() === false) {\n      this.bottomScroll();\n    } else {\n      this.messageInput.current.focus();\n    }\n  }\n\n  onBgClickDouble(e) {\n    if (!this.state.scroll) {\n      return;\n    }\n    if (this.isInViewport() === false) {\n      this.bottomScroll();\n    } else {\n      this.messageInput.current.focus();\n    }\n  }\n\n  handleClick(e) {\n    e.preventDefault();\n    let {scroll} = this.state;\n    if (e.button === 2) {\n      scroll = !scroll;\n      this.setState({ scroll });\n    }\n  }\n\n  handleChange(e) {\n    this.setState({ value: e.target.value });\n  }\n\n  keyPress(e) {\n    if(e.keyCode === 38) {\n      let { value, history, historyval, historylatest } = this.state;\n\n      if(historyval === history.length)\n        historylatest = value;\n\n      if(historyval > 0)\n        historyval--;\n\n      value = history[historyval];\n\n      e.preventDefault();\n      this.HAXLOL = true;\n      this.setState({ value, historyval, historylatest });\n\n      return false;\n    }\n    else if(e.keyCode === 40) {\n      let { value, history, historyval, historylatest } = this.state;\n      \n      if(historyval !== history.length)\n        historyval++;\n      \n      if(historyval === history.length+1)\n        value = history[historyval-1];\n      else if(historyval === history.length)\n        value = historylatest\n      else\n        value = history[historyval];\n\n      e.preventDefault();\n      this.HAXLOL = true;\n      this.setState({ value, historyval });\n\n      return false;\n    }\n    else if(e.keyCode === 13){\n      this.bottomScroll();\n      const { agentuuid } = this.state;\n      const { getCommState } = this.props;\n      const commState = getCommState();\n      let helpMenu = {};\n\n      if (commState.active_agents[agentuuid] !== undefined) {\n        switch (commState.active_agents[agentuuid][\"platform\"]) {\n          case \"win32\":\n            if (commState.active_agents[agentuuid][\"type\"] === \"smb\") {\n              delete commState.win32commands[\"sleep\"];\n            }\n            helpMenu = commState.win32commands;\n            break;\n          case \"win64\":\n            if (commState.active_agents[agentuuid][\"type\"] === \"smb\") {\n              delete commState.win64commands[\"sleep\"];\n            }\n            helpMenu = commState.win64commands;\n            break;\n          case \"linux\":\n            helpMenu = commState.linuxcommands;\n            break;\n          case \"darwin\":\n            helpMenu = commState.darwincommands;\n            break;\n          default:\n            // do nothing\n        }\n      }\n      else {\n        this.print_result_newline(\"Agent no longer exists - please close window.\");\n        this.setState({ value: '' });\n        return;\n      }\n\n      helpMenu[\"clear\"] = [\"Clear the current agent panel.\"];\n      helpMenu[\"help\"] = [\"Show help menu.\", \"help [command]\", \"Display the help menu for a command.\"];\n      if(this.state.value === \"\"){\n        this.print_result_newline(' ');\n        return false;\n      }\n      if(this.state.value === \"help\" || this.state.value.split(\" \")[0] === \"help\") {\n        const helpArr = this.state.value.split(\" \");\n        if (helpArr[1]) {\n          const helpCommand = helpArr[1];\n          if (helpCommand in helpMenu) {\n            if (helpMenu[helpCommand].length === 2) {\n              this.print_result_newline(this.state.value+\"\\nUsage: \"+helpMenu[helpCommand][1]+\"\\nHelp: \"+helpMenu[helpCommand][0]+\"\\n\");\n            }\n            else if (helpMenu[helpCommand].length === 3) {\n              this.print_result_newline(this.state.value+\"\\nUsage: \"+helpMenu[helpCommand][1]+\"\\nHelp: \"+helpMenu[helpCommand][0]+\"\\n\"+helpMenu[helpCommand][2]+\"\\n\");\n            }\n            else {\n              this.print_result_newline(this.state.value+\"\\nUsage: \"+helpCommand+\"\\nHelp: \"+helpMenu[helpCommand][0]+\"\\n\")\n            }\n          }\n          else {\n            this.print_result_newline(this.state.value+\"\\nCommand does not exist!\");\n          }\n          this.setState({ value: '' });\n        }\n        else {\n          let help = '';\n          const ordered = {};\n          Object.keys(helpMenu).sort().forEach(function(key) {\n            ordered[key] = helpMenu[key];\n          });\n          for (const key in ordered) {\n            help += `\\n\"${key}\" : ${ordered[key][0]}`;\n          }\n          this.print_result_newline(this.state.value+\"\\n[+] Listing [\"+Object.keys(helpMenu).length+\"] \"+commState.active_agents[agentuuid][\"platform\"]+\" commands.\"+help);\n          this.setState({ value: '' });\n        }\n      }\n      else if(this.state.value === \"clear\" || this.state.value.split(\" \")[0] === \"clear\") {\n        this.setState({ value: '', results: '', latest_result: ''});\n        localStorage.removeItem(agentuuid);\n        localStorage.removeItem(agentuuid+\"_latest\");\n      }\n      else {\n        if (this.state.value.split(\" \")[0] in helpMenu) {\n          if (this.state.value.split(\" \")[0] === \"inject\") {\n            if (this.state.value.split(\" \").length < 3 || this.state.value.split(\" \").length > 5) {\n              this.print_result_newline(`${this.state.value}\\n[-] Wrong number of arguments.  Use 'help inject' for more info.`);\n              this.setState({ value: '' });\n            }\n            else {\n              if (this.state.value.split(\" \").length === 3 || this.state.value.split(\" \")[3] === \"\" || this.state.value.split(\" \")[3] === \" \") {\n                this.setState({ value: this.state.value.trim() + \" none\"});\n              }\n              const updateState = () => {\n                 this.setState({\n                  displayDrop: true\n                 },() => { document.getElementById(\"dropBox\").focus(); })\n               }\n              updateState();\n            }\n          }\n          else if (this.state.value.split(\" \")[0] === \"shInject\") {\n            if (this.state.value.split(\" \").length < 3 || this.state.value.split(\" \").length > 4) {\n              this.print_result_newline(`${this.state.value}\\n[-] Wrong number of arguments.  Use 'help shInject' for more info.`);\n              this.setState({ value: '' });\n            }\n            else {\n              const updateState = () => {\n                 this.setState({\n                  displayDrop: true\n                 },() => { document.getElementById(\"dropBox\").focus(); })\n               }\n              updateState();\n            }\n          }\n          else{\n            this.print_result_newline(`${this.state.value}\\n[+] Tasking agent to run \"${this.state.value}\"`);\n            this.sendAgentData();\n          }\n        }\n        else {\n          this.print_result_newline(`${this.state.value}\\n[-] Invalid command.  Type 'help' for a list of commands.`);\n          this.setState({ value: '' });\n        }\n      } \n    }\n  }\n\n  sendAgentData(inject) {\n    let { history, historyval, value, historylatest } = this.state;\n    historylatest = \"\";\n    if(history.length > 1024)\n      history = history.slice(history.length-1024)\n    if (inject === true) {\n      history = history.concat(value);\n      const lastIndex = value.lastIndexOf(\" \");\n      const str = value.substring(0, lastIndex);\n      history = history.concat(str);\n    }\n    else {\n      history = history.concat(value);\n    }\n    historyval = history.length;\n    this.setState({ history, historyval, value, historylatest });\n\n    //var data = prepSendData({\"route\":\"agents\", \"data\":{\"agentUUID\":this.state.agentuuid,\"data\":value}});\n    //this.props.connPipe.send(JSON.stringify(data))\n    this.setState({ value: '' });\n  }\n\n\n  bottomScroll() {\n    this.scrollToBottom();\n    const { current } = this.messageInput;\n    if (current && this.HAXLOL) {\n      this.HAXLOL = false;\n      const { value } = this.state;\n      if (value != null) {\n        current.setSelectionRange(value.length, value.length);\n      }\n    }\n  }\n\n  scrollToBottom = () => {\n    this.messagesEnd.current.scrollIntoView({ behavior: 'smooth' });\n  }\n\n  isInViewport(offset = 0) {\n    if (!this.messageInput.current) return false;\n    const top = this.messageInput.current.getBoundingClientRect().top;\n    return (top + offset) >= 0 && (top - offset) <= window.innerHeight;\n  }\n\n  componentDidMount() {\n    this.scrollToBottom();\n\n    const { agentuuid } = this.state;\n    const { getCommState } = this.props;\n\n    const commState = getCommState();\n    \n    if (agentuuid in commState.active_agents) {\n      this.print_result(\"LOAD\");\n    }\n\n    setInterval(x => this.forceUpdate(), 1000);\n  }\n\n  componentDidUpdate() {\n    const { agentuuid } = this.state;\n    const { getCommState } = this.props;\n\n    const commState = getCommState();\n\n\n    if (agentuuid in commState.active_agents) {\n      if ('results' in commState.active_agents[agentuuid]) {\n          const agentResults = commState.active_agents[agentuuid].results;\n          this.print_result(agentResults.join(\"\\n\"));\n      } \n    }\n  }\n}","module.exports = __webpack_public_path__ + \"static/media/background.977e3fd0.jpg\";","import $ from \"jquery\";\n//import React from \"react\";\n//import ReactDOM from \"react-dom\";\nwindow.$ = $;\nwindow.jQuery = $;\nwindow.jquery = $;\n\n//window.ReactDOM = ReactDOM;\n//window.React = React;\n","global.myMainLayout = undefined;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport './globals.js'\n\nwindow.React = React;\nwindow.ReactDOM = ReactDOM;\n\nReactDOM.render(\n<App />, \ndocument.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}